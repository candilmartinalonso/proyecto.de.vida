<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Proyecto de Vida 2025 (Mejorado)</title>
  
  <!-- Tailwind CSS via CDN for rapid prototyping -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Google Fonts: Inter -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    /* Usamos la fuente Inter importada como fuente principal */
    body {
      font-family: 'Inter', sans-serif;
    }
    /* Estilo para la animaci√≥n de aparici√≥n */
    .fade-in {
      animation: fadeIn 0.5s ease-out forwards;
    }
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-800">

  <div class="container max-w-4xl mx-auto p-4 sm:p-8">
    <div class="bg-white rounded-2xl shadow-lg p-6 sm:p-10">
      
      <!-- Encabezado -->
      <div class="text-center mb-8">
        <h1 class="text-3xl sm:text-4xl font-bold text-gray-900">Mi Proyecto de Vida</h1>
        <p class="text-gray-500 mt-2">Define tus metas y traza el camino para alcanzarlas.</p>
      </div>

      <!-- Formulario -->
      <form id="vidaForm" novalidate>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6">
          
          <!-- Campo: Qui√©n soy -->
          <div class="col-span-1">
            <label for="quien" class="block text-sm font-semibold text-gray-700">¬øQui√©n soy?</label>
            <p class="text-xs text-gray-500 mt-1 mb-2">Ej: Soy una persona emp√°tica, perseverante y disfruto ayudar a los dem√°s.</p>
            <textarea id="quien" placeholder="Describite a vos mismo/a" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"></textarea>
            <p id="error_quien" class="text-red-500 text-xs mt-1 h-4"></p>
          </div>

          <!-- Campo: Metas Personales -->
          <div class="col-span-1">
            <label for="personales" class="block text-sm font-semibold text-gray-700">Metas personales</label>
            <p class="text-xs text-gray-500 mt-1 mb-2">Ej: Viajar por el mundo, aprender a tocar un instrumento, tener h√°bitos saludables.</p>
            <textarea id="personales" placeholder="Tus metas en la vida personal" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"></textarea>
            <p id="error_personales" class="text-red-500 text-xs mt-1 h-4"></p>
          </div>

          <!-- Campo: Metas Profesionales -->
          <div class="col-span-1">
            <label for="profesionales" class="block text-sm font-semibold text-gray-700">Metas profesionales</label>
            <p class="text-xs text-gray-500 mt-1 mb-2">Ej: Graduarme en la universidad, conseguir un trabajo en marketing, emprender.</p>
            <textarea id="profesionales" placeholder="Tus metas en el √°mbito profesional" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"></textarea>
            <p id="error_profesionales" class="text-red-500 text-xs mt-1 h-4"></p>
          </div>

          <!-- Campo: Acciones Concretas -->
          <div class="col-span-1">
            <label for="acciones" class="block text-sm font-semibold text-gray-700">Acciones concretas</label>
            <p class="text-xs text-gray-500 mt-1 mb-2">Ej: Estudiar 2 horas por d√≠a, ahorrar un 10% de mi sueldo, hacer cursos online.</p>
            <textarea id="acciones" placeholder="¬øQu√© har√°s para alcanzar tus metas?" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"></textarea>
            <p id="error_acciones" class="text-red-500 text-xs mt-1 h-4"></p>
          </div>
          
          <!-- Campo: Mis Valores -->
          <div class="md:col-span-2">
            <label for="valores" class="block text-sm font-semibold text-gray-700">Mis valores</label>
            <p class="text-xs text-gray-500 mt-1 mb-2">Ej: Honestidad, respeto, compromiso, perseverancia, empat√≠a.</p>
            <textarea id="valores" placeholder="¬øQu√© valores gu√≠an tus decisiones?" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"></textarea>
            <p id="error_valores" class="text-red-500 text-xs mt-1 h-4"></p>
          </div>

        </div>

        <!-- Bot√≥n de env√≠o -->
        <div class="mt-8 text-center">
          <button type="submit" class="bg-blue-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300 transition-all duration-300 transform hover:scale-105">
            Crear Mi Proyecto
          </button>
        </div>
      </form>

      <!-- Secci√≥n de Resultados (inicialmente oculta) -->
      <div id="resultados" class="mt-12 border-t pt-8 hidden">
        <h2 class="text-2xl sm:text-3xl font-bold text-center mb-8 text-gray-900">Resumen de Tu Proyecto</h2>
        
        <div class="space-y-6">
          <div class="resultado-bloque" id="bloque_quien"></div>
          <div class="resultado-bloque" id="bloque_personales"></div>
          <div class="resultado-bloque" id="bloque_profesionales"></div>
          <div class="resultado-bloque" id="bloque_acciones"></div>
          <div class="resultado-bloque" id="bloque_valores"></div>
        </div>
      </div>

    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // --- ELEMENTOS DEL DOM ---
      const form = document.getElementById("vidaForm");
      const resultadosContainer = document.getElementById("resultados");
      const fields = ["quien", "personales", "profesionales", "acciones", "valores"];
      
      // Objeto para almacenar referencias a los elementos del DOM para no buscarlos repetidamente
      const elements = {};
      fields.forEach(id => {
        elements[id] = document.getElementById(id);
        elements[`error_${id}`] = document.getElementById(`error_${id}`);
      });

      // --- MAPAS DE DEVOLUCIONES ---
      // Usar mapas hace que el c√≥digo sea m√°s limpio y f√°cil de extender
      const devolucionesMetas = {
        "viajar": "üåç Para viajar, pod√©s crear un fondo de ahorro, buscar ofertas con anticipaci√≥n y usar apps de planificaci√≥n.",
        "salud": "üí™ Para cuidar tu salud, establec√© una rutina de ejercicios, hac√© chequeos m√©dicos y prioriz√° tu bienestar mental.",
        "graduarme": "üéì Para graduarte, divid√≠ las materias, cre√° un cronograma realista y busc√° grupos de estudio para apoyarte.",
        "trabajar": "üß≥ Para encontrar trabajo, cre√° un buen perfil profesional online (LinkedIn), desarroll√° habilidades blandas y ampli√° tu red de contactos.",
        "emprender": "üöÄ Para emprender, valid√° tu idea con encuestas, defin√≠ tu cliente ideal y empez√° con un Producto M√≠nimo Viable (MVP).",
        "leer": "üìö Para leer m√°s, fijate la meta de leer 10 minutos al d√≠a sobre temas que te apasionen. ¬°Cada p√°gina cuenta!",
        "familia": "üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Para fortalecer lazos familiares, reserv√° tiempo de calidad, practic√° la escucha activa y compart√≠ actividades.",
        "dinero": "üí∞ Para ordenar tus finanzas, registr√° tus gastos, defin√≠ metas de ahorro claras y us√° alguna app de control financiero.",
        "aprender": "üß† Para aprender algo nuevo, busc√° cursos online (Coursera, edX), tutoriales en YouTube o podcasts sobre el tema.",
      };

      const devolucionesValores = {
        "honestidad": "‚öñÔ∏è La honestidad construye confianza y fortalece tu credibilidad en cada paso que das.",
        "respeto": "ü§ù El respeto mutuo es la base para construir relaciones sanas y duraderas, tanto personales como profesionales.",
        "perseverancia": "üî• La perseverancia te ayudar√° a superar los obst√°culos y es el motor para alcanzar cualquier logro a largo plazo.",
        "compromiso": "üéØ El compromiso con tus metas te mantendr√° enfocado, incluso en los momentos m√°s dif√≠ciles del camino.",
        "empat√≠a": "‚ù§Ô∏è La empat√≠a te permite conectar mejor con los dem√°s, entender sus necesidades y construir v√≠nculos m√°s fuertes.",
      };

      // --- L√ìGICA PRINCIPAL ---

      // Cargar datos guardados al iniciar la p√°gina
      loadFromStorage();

      // Event listener para el env√≠o del formulario
      form.addEventListener("submit", (e) => {
        e.preventDefault(); // Evita que la p√°gina se recargue
        if (validateForm()) {
          saveToStorage();
          renderResults();
        }
      });

      // --- FUNCIONES AUXILIARES ---

      /**
       * Carga los datos desde localStorage en los textareas.
       */
      function loadFromStorage() {
        fields.forEach(id => {
          const savedValue = localStorage.getItem(`vida_${id}`);
          if (savedValue) {
            elements[id].value = savedValue;
          }
        });
      }

      /**
       * Guarda los datos de los textareas en localStorage.
       */
      function saveToStorage() {
        fields.forEach(id => {
          localStorage.setItem(`vida_${id}`, elements[id].value.trim());
        });
      }

      /**
       * Valida que ning√∫n campo del formulario est√© vac√≠o.
       * @returns {boolean} - True si todos los campos son v√°lidos, false si no.
       */
      function validateForm() {
        let isValid = true;
        fields.forEach(id => {
          if (elements[id].value.trim() === "") {
            elements[`error_${id}`].textContent = "Este campo no puede estar vac√≠o.";
            elements[id].classList.add('border-red-500');
            isValid = false;
          } else {
            elements[`error_${id}`].textContent = "";
            elements[id].classList.remove('border-red-500');
          }
        });
        return isValid;
      }

      /**
       * Muestra los resultados en la secci√≥n correspondiente.
       */
      function renderResults() {
        // Limpia los resultados anteriores antes de renderizar los nuevos
        fields.forEach(id => {
            const bloque = document.getElementById(`bloque_${id}`);
            if (bloque) bloque.innerHTML = '';
        });

        // Mapeo de t√≠tulos para los bloques de resultados
        const titles = {
            quien: '¬øQui√©n soy?',
            personales: 'Metas Personales',
            profesionales: 'Metas Profesionales',
            acciones: 'Acciones Concretas',
            valores: 'Mis Valores'
        };

        // Renderiza cada bloque
        fields.forEach(id => {
            const value = elements[id].value.trim();
            const title = titles[id];
            const container = document.getElementById(`bloque_${id}`);
            
            let feedbackHTML = '';
            if (id === 'personales' || id === 'profesionales') {
                feedbackHTML = generateFeedback(value, devolucionesMetas, "üìå Convert√≠ tus metas en pasos diarios, simples y medibles. ¬°La constancia es clave!");
            } else if (id === 'valores') {
                feedbackHTML = generateFeedback(value, devolucionesValores, "üå± Viv√≠ tus valores con coherencia en tu d√≠a a d√≠a para construir la vida que quer√©s.");
            }

            container.innerHTML = `
              <div class="bg-gray-50 p-4 rounded-lg shadow-sm">
                <strong class="block text-base font-semibold text-blue-700">${title}</strong>
                <p class="text-gray-700 mt-2 whitespace-pre-line">${value}</p>
                ${feedbackHTML}
              </div>
            `;
        });
        
        // Muestra el contenedor de resultados con una animaci√≥n
        resultadosContainer.classList.remove('hidden');
        resultadosContainer.classList.add('fade-in');
        
        // Desplaza la vista hacia los resultados para que el usuario los vea
        resultadosContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }

      /**
       * Genera una devoluci√≥n basada en palabras clave encontradas en el texto.
       * @param {string} text - El texto del usuario.
       * @param {object} feedbackMap - El mapa de palabras clave y devoluciones.
       * @param {string} defaultMessage - El mensaje a mostrar si no se encuentran coincidencias.
       * @returns {string} - El HTML de la devoluci√≥n.
       */
      function generateFeedback(text, feedbackMap, defaultMessage) {
        const lowerText = text.toLowerCase();
        let foundFeedbacks = [];

        for (const key in feedbackMap) {
          if (lowerText.includes(key)) {
            foundFeedbacks.push(feedbackMap[key]);
          }
        }

        if (foundFeedbacks.length === 0) {
          foundFeedbacks.push(defaultMessage);
        }

        return `
          <div class="mt-3 bg-blue-50 border-l-4 border-blue-500 text-blue-800 p-3 rounded-r-lg">
            <p class="font-medium text-sm">Sugerencia:</p>
            <ul class="list-disc list-inside mt-1 text-sm">
              ${foundFeedbacks.map(f => `<li>${f}</li>`).join('')}
            </ul>
          </div>
        `;
      }
    });
  </script>
</body>
</html>
