<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Proyecto de Vida 2025 (Mejorado)</title>
  
  <!-- Tailwind CSS via CDN for rapid prototyping -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Google Fonts: Inter -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    /* Usamos la fuente Inter importada como fuente principal */
    body {
      font-family: 'Inter', sans-serif;
    }
    /* Estilo para las animaciones */
    .fade-in {
      animation: fadeIn 0.5s ease-out forwards;
    }
    .fade-out {
      animation: fadeOut 0.5s ease-in forwards;
    }
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    @keyframes fadeOut {
      from {
        opacity: 1;
        transform: translateY(0);
      }
      to {
        opacity: 0;
        transform: translateY(10px);
      }
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-800">

  <div class="container max-w-4xl mx-auto p-4 sm:p-8">
    <div class="bg-white rounded-2xl shadow-lg p-6 sm:p-10">
      
      <!-- Encabezado -->
      <div id="header" class="text-center mb-8">
        <h1 class="text-3xl sm:text-4xl font-bold text-gray-900">Mi Proyecto de Vida</h1>
        <p class="text-gray-500 mt-2">Define tus metas y traza el camino para alcanzarlas.</p>
      </div>

      <!-- Formulario -->
      <form id="vidaForm" novalidate>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6">
          
          <!-- Campo: Quién soy -->
          <div class="col-span-1">
            <label for="quien" class="block text-sm font-semibold text-gray-700">¿Quién soy?</label>
            <p class="text-xs text-gray-500 mt-1 mb-2">Ej: Soy una persona empática, perseverante y disfruto ayudar a los demás.</p>
            <textarea id="quien" placeholder="Describite a vos mismo/a" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition h-28"></textarea>
            <p id="error_quien" class="text-red-500 text-xs mt-1 h-4"></p>
          </div>

          <!-- Campo: Metas Personales -->
          <div class="col-span-1">
            <label for="personales" class="block text-sm font-semibold text-gray-700">Metas personales</label>
            <p class="text-xs text-gray-500 mt-1 mb-2">Ej: Viajar por el mundo, aprender a tocar un instrumento, tener hábitos saludables.</p>
            <textarea id="personales" placeholder="Tus metas en la vida personal" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition h-28"></textarea>
            <p id="error_personales" class="text-red-500 text-xs mt-1 h-4"></p>
          </div>

          <!-- Campo: Metas Profesionales -->
          <div class="col-span-1">
            <label for="profesionales" class="block text-sm font-semibold text-gray-700">Metas profesionales</label>
            <p class="text-xs text-gray-500 mt-1 mb-2">Ej: Graduarme en la universidad, conseguir un trabajo en marketing, emprender.</p>
            <textarea id="profesionales" placeholder="Tus metas en el ámbito profesional" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition h-28"></textarea>
            <p id="error_profesionales" class="text-red-500 text-xs mt-1 h-4"></p>
          </div>

          <!-- Campo: Acciones Concretas -->
          <div class="col-span-1">
            <label for="acciones" class="block text-sm font-semibold text-gray-700">Acciones concretas</label>
            <p class="text-xs text-gray-500 mt-1 mb-2">Ej: Estudiar 2 horas por día, ahorrar un 10% de mi sueldo, hacer cursos online.</p>
            <textarea id="acciones" placeholder="¿Qué harás para alcanzar tus metas?" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition h-28"></textarea>
            <p id="error_acciones" class="text-red-500 text-xs mt-1 h-4"></p>
          </div>
          
          <!-- Campo: Mis Valores -->
          <div class="md:col-span-2">
            <label for="valores" class="block text-sm font-semibold text-gray-700">Mis valores</label>
            <p class="text-xs text-gray-500 mt-1 mb-2">Ej: Honestidad, respeto, compromiso, perseverancia, empatía.</p>
            <textarea id="valores" placeholder="¿Qué valores guían tus decisiones?" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"></textarea>
            <p id="error_valores" class="text-red-500 text-xs mt-1 h-4"></p>
          </div>

        </div>

        <!-- Botón de envío -->
        <div class="mt-8 text-center">
          <button type="submit" class="bg-blue-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300 transition-all duration-300 transform hover:scale-105">
            Crear Mi Proyecto
          </button>
        </div>
      </form>

      <!-- Sección de Resultados (inicialmente oculta) -->
      <div id="resultados" class="mt-12 border-t pt-8 hidden">
        <h2 class="text-2xl sm:text-3xl font-bold text-center mb-8 text-gray-900">Resumen de Tu Proyecto</h2>
        
        <div class="space-y-6" id="resultados-content">
          <!-- El contenido se generará aquí -->
        </div>

        <!-- Botón para editar -->
        <div class="mt-10 text-center">
            <button id="editButton" class="bg-gray-200 text-gray-800 font-bold py-3 px-8 rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-4 focus:ring-gray-300 transition-all duration-300">
              Editar Mi Proyecto
            </button>
        </div>
      </div>

    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // --- ELEMENTOS DEL DOM ---
      const form = document.getElementById("vidaForm");
      const header = document.getElementById("header");
      const resultadosContainer = document.getElementById("resultados");
      const resultadosContent = document.getElementById("resultados-content");
      const editButton = document.getElementById("editButton");
      const fields = ["quien", "personales", "profesionales", "acciones", "valores"];
      
      const elements = {};
      fields.forEach(id => {
        elements[id] = document.getElementById(id);
        elements[`error_${id}`] = document.getElementById(`error_${id}`);
      });

      // --- MAPAS DE DEVOLUCIONES ---
      const devolucionesMetas = {
        "viajar": "🌍 Para viajar, podés crear un fondo de ahorro, buscar ofertas con anticipación y usar apps de planificación.",
        "salud": "💪 Para cuidar tu salud, establecé una rutina de ejercicios, hacé chequeos médicos y priorizá tu bienestar mental.",
        "graduarme": "🎓 Para graduarte, dividí las materias, creá un cronograma realista y buscá grupos de estudio para apoyarte.",
        "trabajar": "🧳 Para encontrar trabajo, creá un buen perfil profesional online (LinkedIn), desarrollá habilidades blandas y ampliá tu red de contactos.",
        "emprender": "🚀 Para emprender, validá tu idea con encuestas, definí tu cliente ideal y empezá con un Producto Mínimo Viable (MVP).",
        "leer": "📚 Para leer más, fijate la meta de leer 10 minutos al día sobre temas que te apasionen. ¡Cada página cuenta!",
        "familia": "👨‍👩‍👧‍👦 Para fortalecer lazos familiares, reservá tiempo de calidad, practicá la escucha activa y compartí actividades.",
        "dinero": "💰 Para ordenar tus finanzas, registrá tus gastos, definí metas de ahorro claras y usá alguna app de control financiero.",
        "aprender": "🧠 Para aprender algo nuevo, buscá cursos online (Coursera, edX), tutoriales en YouTube o podcasts sobre el tema.",
      };

      const devolucionesValores = {
        "honestidad": "⚖️ La honestidad construye confianza y fortalece tu credibilidad en cada paso que das.",
        "respeto": "🤝 El respeto mutuo es la base para construir relaciones sanas y duraderas, tanto personales como profesionales.",
        "perseverancia": "🔥 La perseverancia te ayudará a superar los obstáculos y es el motor para alcanzar cualquier logro a largo plazo.",
        "compromiso": "🎯 El compromiso con tus metas te mantendrá enfocado, incluso en los momentos más difíciles del camino.",
        "empatía": "❤️ La empatía te permite conectar mejor con los demás, entender sus necesidades y construir vínculos más fuertes.",
      };
      
      const devolucionesAcciones = {
        "estudiar": "🗓️ Para estudiar mejor, usá técnicas como Pomodoro (25 min de foco y 5 de descanso) y creá un espacio de estudio sin distracciones.",
        "ahorrar": "📊 Para que tu ahorro sea efectivo, definí un porcentaje fijo de tus ingresos (ej. 10%) y automatizá la transferencia a otra cuenta apenas cobres.",
        "capacitarme": "💡 Para capacitarte, establecé un horario fijo semanal para tus cursos y aplicá lo que aprendés en pequeños proyectos prácticos para fijar el conocimiento.",
        "curso": "💡 Para capacitarte, establecé un horario fijo semanal para tus cursos y aplicá lo que aprendés en pequeños proyectos prácticos para fijar el conocimiento.",
        "ejercicio": "🏃‍♂️ Para mantener la constancia con el ejercicio, empezá con metas realistas (ej. 2-3 veces por semana) y elegí una actividad que realmente disfrutes.",
        "entrenar": "🏃‍♂️ Para mantener la constancia con el ejercicio, empezá con metas realistas (ej. 2-3 veces por semana) y elegí una actividad que realmente disfrutes.",
        "organizarme": "✅ Para organizarte mejor, usá una agenda o app de tareas (Todoist, Trello). Definí 3 prioridades cada día para no sentirte abrumado/a.",
        "planificar": "✅ Para organizarte mejor, usá una agenda o app de tareas (Todoist, Trello). Definí 3 prioridades cada día para no sentirte abrumado/a.",
      };


      // --- LÓGICA PRINCIPAL ---
      loadFromStorage();

      form.addEventListener("submit", (e) => {
        e.preventDefault();
        if (validateForm()) {
          saveToStorage();
          renderResults();
          showResults();
        }
      });
      
      editButton.addEventListener("click", () => {
        showForm();
      });

      // --- FUNCIONES AUXILIARES ---

      function showForm() {
        resultadosContainer.classList.add('hidden');
        form.classList.remove('hidden');
        header.classList.remove('hidden');
        form.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
      
      function showResults() {
        form.classList.add('hidden');
        header.classList.add('hidden');
        resultadosContainer.classList.remove('hidden');
        resultadosContainer.classList.add('fade-in');
        resultadosContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }

      function loadFromStorage() {
        fields.forEach(id => {
          const savedValue = localStorage.getItem(`vida_${id}`);
          if (savedValue) {
            elements[id].value = savedValue;
          }
        });
      }

      function saveToStorage() {
        fields.forEach(id => {
          localStorage.setItem(`vida_${id}`, elements[id].value.trim());
        });
      }

      function validateForm() {
        let isValid = true;
        fields.forEach(id => {
          if (elements[id].value.trim() === "") {
            elements[`error_${id}`].textContent = "Este campo no puede estar vacío.";
            elements[id].classList.add('border-red-500');
            isValid = false;
          } else {
            elements[`error_${id}`].textContent = "";
            elements[id].classList.remove('border-red-500');
          }
        });
        return isValid;
      }

      function renderResults() {
        resultadosContent.innerHTML = ''; // Limpia resultados anteriores

        const titles = {
            quien: '¿Quién soy?',
            personales: 'Metas Personales',
            profesionales: 'Metas Profesionales',
            acciones: 'Acciones Concretas',
            valores: 'Mis Valores'
        };

        fields.forEach(id => {
            const value = elements[id].value.trim();
            const title = titles[id];
            
            let feedbackHTML = '';
            if (id === 'personales' || id === 'profesionales') {
                feedbackHTML = generateFeedback(value, devolucionesMetas, "📌 Convertí tus metas en pasos diarios, simples y medibles. ¡La constancia es clave!");
            } else if (id === 'valores') {
                feedbackHTML = generateFeedback(value, devolucionesValores, "🌱 Viví tus valores con coherencia en tu día a día para construir la vida que querés.");
            } else if (id === 'acciones') {
                feedbackHTML = generateFeedback(value, devolucionesAcciones, "🚀 Para que tus acciones sean poderosas, asegurate de que sean Específicas, Medibles, Alcanzables, Relevantes y con un Tiempo definido (SMART).");
            }

            const bloqueHTML = `
              <div class="bg-gray-50 p-4 rounded-lg shadow-sm">
                <strong class="block text-base font-semibold text-blue-700">${title}</strong>
                <p class="text-gray-700 mt-2 whitespace-pre-line">${value}</p>
                ${feedbackHTML}
              </div>
            `;
            resultadosContent.innerHTML += bloqueHTML;
        });
      }

      function generateFeedback(text, feedbackMap, defaultMessage) {
        const lowerText = text.toLowerCase();
        let foundFeedbacks = new Set(); // Usar un Set para evitar duplicados

        for (const key in feedbackMap) {
          if (lowerText.includes(key)) {
            foundFeedbacks.add(feedbackMap[key]);
          }
        }

        if (foundFeedbacks.size === 0) {
          foundFeedbacks.add(defaultMessage);
        }

        return `
          <div class="mt-4 bg-blue-50 border-l-4 border-blue-500 text-blue-800 p-3 rounded-r-lg">
            <p class="font-medium text-sm">💡 Cómo potenciarlo:</p>
            <ul class="list-disc list-inside mt-2 space-y-1 text-sm">
              ${[...foundFeedbacks].map(f => `<li>${f}</li>`).join('')}
            </ul>
          </div>
        `;
      }
    });
  </script>
</body>
</html>
